\doxysection{Generic CTLs}
\hypertarget{group__opus__genericctls}{}\label{group__opus__genericctls}\index{Generic CTLs@{Generic CTLs}}


These macros are used with the {\ttfamily opus\+\_\+decoder\+\_\+ctl} and {\ttfamily opus\+\_\+encoder\+\_\+ctl} calls to generate a particular request.  


\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{group__opus__genericctls_gadc74e4fa8bcdf9994187d52d92207337}{OPUS\+\_\+\+RESET\+\_\+\+STATE}}
\begin{DoxyCompactList}\small\item\em Resets the codec state to be equivalent to a freshly initialized state. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group__opus__genericctls_ga1108a508aa475f964d247c1b04d26d89}{OPUS\+\_\+\+GET\+\_\+\+FINAL\+\_\+\+RANGE}}(x)
\begin{DoxyCompactList}\small\item\em Gets the final state of the codec\textquotesingle{}s entropy coder. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group__opus__genericctls_ga29db1d9b5e670debec54d1163ad2ec62}{OPUS\+\_\+\+GET\+\_\+\+BANDWIDTH}}(x)
\begin{DoxyCompactList}\small\item\em Gets the encoder\textquotesingle{}s configured bandpass or the decoder\textquotesingle{}s last bandpass. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group__opus__genericctls_gac8ad425424211faae6a0fbfb7c28bb51}{OPUS\+\_\+\+GET\+\_\+\+SAMPLE\+\_\+\+RATE}}(x)
\begin{DoxyCompactList}\small\item\em Gets the sampling rate the encoder or decoder was initialized with. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group__opus__genericctls_ga10fa1f6eab136baf83c232afa989b6a8}{OPUS\+\_\+\+SET\+\_\+\+PHASE\+\_\+\+INVERSION\+\_\+\+DISABLED}}(x)
\begin{DoxyCompactList}\small\item\em If set to 1, disables the use of phase inversion for intensity stereo, improving the quality of mono downmixes, but slightly reducing normal stereo quality. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group__opus__genericctls_gae9ad2f51fe4fe086f35e881682c4c247}{OPUS\+\_\+\+GET\+\_\+\+PHASE\+\_\+\+INVERSION\+\_\+\+DISABLED}}(x)
\begin{DoxyCompactList}\small\item\em Gets the encoder\textquotesingle{}s configured phase inversion status. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group__opus__genericctls_ga9af68dcfb4f136dd91b1050658d559ca}{OPUS\+\_\+\+GET\+\_\+\+IN\+\_\+\+DTX}}(x)
\begin{DoxyCompactList}\small\item\em Gets the DTX state of the encoder. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
These macros are used with the {\ttfamily opus\+\_\+decoder\+\_\+ctl} and {\ttfamily opus\+\_\+encoder\+\_\+ctl} calls to generate a particular request. 

When called on an {\ttfamily Opus\+Decoder} they apply to that particular decoder instance. When called on an {\ttfamily Opus\+Encoder} they apply to the corresponding setting on that encoder instance, if present.

Some usage examples\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordtype}{int}\ ret;}
\DoxyCodeLine{\mbox{\hyperlink{opus__types_8h_aa4d309d6f80b99dbabebc8f98879ab9a}{opus\_int32}}\ pitch;}
\DoxyCodeLine{ret\ =\ \mbox{\hyperlink{group__opus__decoder_ga2d492844b4f66e7f34d85870f13d4846}{opus\_decoder\_ctl}}(dec\_ctx,\ \mbox{\hyperlink{group__opus__decoderctls_gaa89fc25eb35fc31a02b508562dd83820}{OPUS\_GET\_PITCH}}(\&pitch));}
\DoxyCodeLine{\textcolor{keywordflow}{if}\ (ret\ ==\ \mbox{\hyperlink{group__opus__errorcodes_gaa44cf8a185e1b5cb940ef63eb4f02d21}{OPUS\_OK}})\ \textcolor{keywordflow}{return}\ ret;}
\DoxyCodeLine{}
\DoxyCodeLine{\mbox{\hyperlink{group__opus__encoder_ga164cbb0425238961919adf1db67949df}{opus\_encoder\_ctl}}(enc\_ctx,\ \mbox{\hyperlink{group__opus__genericctls_gadc74e4fa8bcdf9994187d52d92207337}{OPUS\_RESET\_STATE}});}
\DoxyCodeLine{\mbox{\hyperlink{group__opus__decoder_ga2d492844b4f66e7f34d85870f13d4846}{opus\_decoder\_ctl}}(dec\_ctx,\ \mbox{\hyperlink{group__opus__genericctls_gadc74e4fa8bcdf9994187d52d92207337}{OPUS\_RESET\_STATE}});}
\DoxyCodeLine{}
\DoxyCodeLine{\mbox{\hyperlink{opus__types_8h_aa4d309d6f80b99dbabebc8f98879ab9a}{opus\_int32}}\ enc\_bw,\ dec\_bw;}
\DoxyCodeLine{\mbox{\hyperlink{group__opus__encoder_ga164cbb0425238961919adf1db67949df}{opus\_encoder\_ctl}}(enc\_ctx,\ \mbox{\hyperlink{group__opus__genericctls_ga29db1d9b5e670debec54d1163ad2ec62}{OPUS\_GET\_BANDWIDTH}}(\&enc\_bw));}
\DoxyCodeLine{\mbox{\hyperlink{group__opus__decoder_ga2d492844b4f66e7f34d85870f13d4846}{opus\_decoder\_ctl}}(dec\_ctx,\ \mbox{\hyperlink{group__opus__genericctls_ga29db1d9b5e670debec54d1163ad2ec62}{OPUS\_GET\_BANDWIDTH}}(\&dec\_bw));}
\DoxyCodeLine{\textcolor{keywordflow}{if}\ (enc\_bw\ !=\ dec\_bw)\ \{}
\DoxyCodeLine{\ \ printf(\textcolor{stringliteral}{"{}packet\ bandwidth\ mismatch!\(\backslash\)n"{}});}
\DoxyCodeLine{\}}

\end{DoxyCode}


\begin{DoxySeeAlso}{See also}
\doxylink{group__opus__encoder}{Opus Encoder}, \doxylink{group__opus__decoder_ga2d492844b4f66e7f34d85870f13d4846}{opus\+\_\+decoder\+\_\+ctl}, \doxylink{group__opus__encoder_ga164cbb0425238961919adf1db67949df}{opus\+\_\+encoder\+\_\+ctl}, \doxylink{group__opus__decoderctls}{Decoder related CTLs}, \doxylink{group__opus__encoderctls}{Encoder related CTLs} 
\end{DoxySeeAlso}


\doxysubsection{Macro Definition Documentation}
\Hypertarget{group__opus__genericctls_ga29db1d9b5e670debec54d1163ad2ec62}\label{group__opus__genericctls_ga29db1d9b5e670debec54d1163ad2ec62} 
\index{Generic CTLs@{Generic CTLs}!OPUS\_GET\_BANDWIDTH@{OPUS\_GET\_BANDWIDTH}}
\index{OPUS\_GET\_BANDWIDTH@{OPUS\_GET\_BANDWIDTH}!Generic CTLs@{Generic CTLs}}
\doxysubsubsection{\texorpdfstring{OPUS\_GET\_BANDWIDTH}{OPUS\_GET\_BANDWIDTH}}
{\footnotesize\ttfamily \#define OPUS\+\_\+\+GET\+\_\+\+BANDWIDTH(\begin{DoxyParamCaption}\item[{}]{x }\end{DoxyParamCaption})}



Gets the encoder\textquotesingle{}s configured bandpass or the decoder\textquotesingle{}s last bandpass. 

\begin{DoxySeeAlso}{See also}
\doxylink{group__opus__encoderctls_ga0178dabe5526d5b0667d81489cc93791}{OPUS\+\_\+\+SET\+\_\+\+BANDWIDTH} 
\end{DoxySeeAlso}

\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em x} & {\ttfamily opus\+\_\+int32 \texorpdfstring{$\ast$}{*}}\+: Returns one of the following values\+: 
\begin{DoxyDescription}
\item[\doxylink{group__opus__ctlvalues_ga1c5b3244b018ff4548d2d6bffa418472}{OPUS\+\_\+\+AUTO} ](default) 
\item[\doxylink{group__opus__ctlvalues_ga607dd310958b9c7d545d005e4572d47f}{OPUS\+\_\+\+BANDWIDTH\+\_\+\+NARROWBAND} ]4 k\+Hz passband 
\item[\doxylink{group__opus__ctlvalues_ga53a2aff4dc0ee23682927ca568c422a3}{OPUS\+\_\+\+BANDWIDTH\+\_\+\+MEDIUMBAND} ]6 k\+Hz passband 
\item[\doxylink{group__opus__ctlvalues_gac698e5d1281a3632251d2a4ead48afb9}{OPUS\+\_\+\+BANDWIDTH\+\_\+\+WIDEBAND} ]8 k\+Hz passband 
\item[\doxylink{group__opus__ctlvalues_ga41f86df35af0033a7361895da88671c1}{OPUS\+\_\+\+BANDWIDTH\+\_\+\+SUPERWIDEBAND}]12 k\+Hz passband 
\item[\doxylink{group__opus__ctlvalues_ga74cb052d8ec36cbcc9708c417558ebdd}{OPUS\+\_\+\+BANDWIDTH\+\_\+\+FULLBAND} ]20 k\+Hz passband 
\end{DoxyDescription}\\
\hline
\end{DoxyParams}
\Hypertarget{group__opus__genericctls_ga1108a508aa475f964d247c1b04d26d89}\label{group__opus__genericctls_ga1108a508aa475f964d247c1b04d26d89} 
\index{Generic CTLs@{Generic CTLs}!OPUS\_GET\_FINAL\_RANGE@{OPUS\_GET\_FINAL\_RANGE}}
\index{OPUS\_GET\_FINAL\_RANGE@{OPUS\_GET\_FINAL\_RANGE}!Generic CTLs@{Generic CTLs}}
\doxysubsubsection{\texorpdfstring{OPUS\_GET\_FINAL\_RANGE}{OPUS\_GET\_FINAL\_RANGE}}
{\footnotesize\ttfamily \#define OPUS\+\_\+\+GET\+\_\+\+FINAL\+\_\+\+RANGE(\begin{DoxyParamCaption}\item[{}]{x }\end{DoxyParamCaption})}



Gets the final state of the codec\textquotesingle{}s entropy coder. 

This is used for testing purposes, The encoder and decoder state should be identical after coding a payload (assuming no data corruption or software bugs)


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em x} & {\ttfamily opus\+\_\+uint32 \texorpdfstring{$\ast$}{*}}\+: Entropy coder state \\
\hline
\end{DoxyParams}
\Hypertarget{group__opus__genericctls_ga9af68dcfb4f136dd91b1050658d559ca}\label{group__opus__genericctls_ga9af68dcfb4f136dd91b1050658d559ca} 
\index{Generic CTLs@{Generic CTLs}!OPUS\_GET\_IN\_DTX@{OPUS\_GET\_IN\_DTX}}
\index{OPUS\_GET\_IN\_DTX@{OPUS\_GET\_IN\_DTX}!Generic CTLs@{Generic CTLs}}
\doxysubsubsection{\texorpdfstring{OPUS\_GET\_IN\_DTX}{OPUS\_GET\_IN\_DTX}}
{\footnotesize\ttfamily \#define OPUS\+\_\+\+GET\+\_\+\+IN\+\_\+\+DTX(\begin{DoxyParamCaption}\item[{}]{x }\end{DoxyParamCaption})}



Gets the DTX state of the encoder. 

Returns whether the last encoded frame was either a comfort noise update during DTX or not encoded because of DTX. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em x} & {\ttfamily opus\+\_\+int32 \texorpdfstring{$\ast$}{*}}\+: Returns one of the following values\+: 
\begin{DoxyDescription}
\item[0]The encoder is not in DTX. 
\item[1]The encoder is in DTX. 
\end{DoxyDescription}\\
\hline
\end{DoxyParams}
\Hypertarget{group__opus__genericctls_gae9ad2f51fe4fe086f35e881682c4c247}\label{group__opus__genericctls_gae9ad2f51fe4fe086f35e881682c4c247} 
\index{Generic CTLs@{Generic CTLs}!OPUS\_GET\_PHASE\_INVERSION\_DISABLED@{OPUS\_GET\_PHASE\_INVERSION\_DISABLED}}
\index{OPUS\_GET\_PHASE\_INVERSION\_DISABLED@{OPUS\_GET\_PHASE\_INVERSION\_DISABLED}!Generic CTLs@{Generic CTLs}}
\doxysubsubsection{\texorpdfstring{OPUS\_GET\_PHASE\_INVERSION\_DISABLED}{OPUS\_GET\_PHASE\_INVERSION\_DISABLED}}
{\footnotesize\ttfamily \#define OPUS\+\_\+\+GET\+\_\+\+PHASE\+\_\+\+INVERSION\+\_\+\+DISABLED(\begin{DoxyParamCaption}\item[{}]{x }\end{DoxyParamCaption})}



Gets the encoder\textquotesingle{}s configured phase inversion status. 

\begin{DoxySeeAlso}{See also}
\doxylink{group__opus__genericctls_ga10fa1f6eab136baf83c232afa989b6a8}{OPUS\+\_\+\+SET\+\_\+\+PHASE\+\_\+\+INVERSION\+\_\+\+DISABLED} 
\end{DoxySeeAlso}

\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em x} & {\ttfamily opus\+\_\+int32 \texorpdfstring{$\ast$}{*}}\+: Returns one of the following values\+: 
\begin{DoxyDescription}
\item[0]Stereo phase inversion enabled (default). 
\item[1]Stereo phase inversion disabled. 
\end{DoxyDescription}\\
\hline
\end{DoxyParams}
\Hypertarget{group__opus__genericctls_gac8ad425424211faae6a0fbfb7c28bb51}\label{group__opus__genericctls_gac8ad425424211faae6a0fbfb7c28bb51} 
\index{Generic CTLs@{Generic CTLs}!OPUS\_GET\_SAMPLE\_RATE@{OPUS\_GET\_SAMPLE\_RATE}}
\index{OPUS\_GET\_SAMPLE\_RATE@{OPUS\_GET\_SAMPLE\_RATE}!Generic CTLs@{Generic CTLs}}
\doxysubsubsection{\texorpdfstring{OPUS\_GET\_SAMPLE\_RATE}{OPUS\_GET\_SAMPLE\_RATE}}
{\footnotesize\ttfamily \#define OPUS\+\_\+\+GET\+\_\+\+SAMPLE\+\_\+\+RATE(\begin{DoxyParamCaption}\item[{}]{x }\end{DoxyParamCaption})}



Gets the sampling rate the encoder or decoder was initialized with. 

This simply returns the {\ttfamily Fs} value passed to \doxylink{group__opus__encoder_ga515db1c267a7421dacaad3610f79eb79}{opus\+\_\+encoder\+\_\+init()} or \doxylink{group__opus__decoder_ga939156d1f561c4273d5c62fa9c235a01}{opus\+\_\+decoder\+\_\+init()}. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em x} & {\ttfamily opus\+\_\+int32 \texorpdfstring{$\ast$}{*}}\+: Sampling rate of encoder or decoder. \\
\hline
\end{DoxyParams}
\Hypertarget{group__opus__genericctls_gadc74e4fa8bcdf9994187d52d92207337}\label{group__opus__genericctls_gadc74e4fa8bcdf9994187d52d92207337} 
\index{Generic CTLs@{Generic CTLs}!OPUS\_RESET\_STATE@{OPUS\_RESET\_STATE}}
\index{OPUS\_RESET\_STATE@{OPUS\_RESET\_STATE}!Generic CTLs@{Generic CTLs}}
\doxysubsubsection{\texorpdfstring{OPUS\_RESET\_STATE}{OPUS\_RESET\_STATE}}
{\footnotesize\ttfamily \#define OPUS\+\_\+\+RESET\+\_\+\+STATE}



Resets the codec state to be equivalent to a freshly initialized state. 

This should be called when switching streams in order to prevent the back to back decoding from giving different results from one at a time decoding. \Hypertarget{group__opus__genericctls_ga10fa1f6eab136baf83c232afa989b6a8}\label{group__opus__genericctls_ga10fa1f6eab136baf83c232afa989b6a8} 
\index{Generic CTLs@{Generic CTLs}!OPUS\_SET\_PHASE\_INVERSION\_DISABLED@{OPUS\_SET\_PHASE\_INVERSION\_DISABLED}}
\index{OPUS\_SET\_PHASE\_INVERSION\_DISABLED@{OPUS\_SET\_PHASE\_INVERSION\_DISABLED}!Generic CTLs@{Generic CTLs}}
\doxysubsubsection{\texorpdfstring{OPUS\_SET\_PHASE\_INVERSION\_DISABLED}{OPUS\_SET\_PHASE\_INVERSION\_DISABLED}}
{\footnotesize\ttfamily \#define OPUS\+\_\+\+SET\+\_\+\+PHASE\+\_\+\+INVERSION\+\_\+\+DISABLED(\begin{DoxyParamCaption}\item[{}]{x }\end{DoxyParamCaption})}



If set to 1, disables the use of phase inversion for intensity stereo, improving the quality of mono downmixes, but slightly reducing normal stereo quality. 

Disabling phase inversion in the decoder does not comply with RFC 6716, although it does not cause any interoperability issue and is expected to become part of the Opus standard once RFC 6716 is updated by draft-\/ietf-\/codec-\/opus-\/update. \begin{DoxySeeAlso}{See also}
\doxylink{group__opus__genericctls_gae9ad2f51fe4fe086f35e881682c4c247}{OPUS\+\_\+\+GET\+\_\+\+PHASE\+\_\+\+INVERSION\+\_\+\+DISABLED} 
\end{DoxySeeAlso}

\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em x} & {\ttfamily opus\+\_\+int32}\+: Allowed values\+: 
\begin{DoxyDescription}
\item[0]Enable phase inversion (default). 
\item[1]Disable phase inversion. 
\end{DoxyDescription}\\
\hline
\end{DoxyParams}
